<!DOCTYPE html>
<html>
  <head>
    <title>上传</title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script>
      // 拦截器
      axios.interceptors.request.use(config => {
        return config
      }, error => {
        return Promise.reject(error)
      })
      axios.interceptors.response.use(response => {
        console.log(response.headers)
        const { authorization } = response.headers
        authorization && localStorage.setItem('authorization', authorization)
        return response
      }, error => {
        return Promise.reject(error)
      })
    </script>
  </head>
  <body>
    <h1>mongodb测试</h1>
    <div>
        <form action="/users/api/upload" method="post" enctype="multipart/form-data">
            <div>
              用户名<input type="text" name="username" id="username">
            </div>
            <div>
              密码<input type="password" name="password" id="password">
            </div>
            <div>
              头像<input type="file" name="file" id="file">
            </div>
            <div>
              <input type="submit" value="注册" id="register">
            </div>
        </form>
      <script>
        const username = document.querySelector('#username')
        const password = document.querySelector('#password')
        const file = document.querySelector('#file')
        const registerBtn = document.querySelector('#register')
      </script>
    </div>
  </body>
</html>
